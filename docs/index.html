<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>TMMLU+ Leaderboard</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

<style>
body { padding:40px; background:#f8f9fa; }
</style>
</head>

<body>

<h2 class="text-center mb-4">ðŸ“Š TMMLU+ Leaderboard</h2>

<table class="table table-striped table-bordered">
<thead class="table-dark">
<tr>
  <th>Rank</th>
  <th>Model</th>
  <th>Overall</th>
  <th>TMMLU+</th>
</tr>
</thead>
<tbody id="rows"></tbody>
</table>

<hr>

<h4>ðŸ§­ TMMLU+ Category Comparison (Radar)</h4>
<div id="radar-cat"></div>

<h4 class="mt-5">ðŸ“Š TMMLU+ Category Comparison (Bar)</h4>
<div id="bar-cat"></div>

<script>
fetch("leaderboard.json").then(r=>r.json()).then(data=>{

const tbody = document.getElementById("rows");

data.leaderboard.forEach((m,i)=>{
  tbody.innerHTML += `
    <tr>
      <td>${i+1}</td>
      <td>${m.model}</td>
      <td>${m.overall ?? "-"}</td>
      <td>${m.tmmlu_overall ?? "-"}</td>
    </tr>`;
});

// -------- CATEGORY RADAR --------
const radarTraces = [];
const barTraces = [];

data.leaderboard.forEach(m=>{
  const d = data.details[m.model].tmmlu_categories;
  if (!d || Object.keys(d).length === 0) return;

  radarTraces.push({
    type: "scatterpolar",
    r: Object.values(d),
    theta: Object.keys(d),
    fill: "toself",
    name: m.model
  });

  barTraces.push({
    type: "bar",
    x: Object.keys(d),
    y: Object.values(d),
    name: m.model
  });
});

Plotly.newPlot("radar-cat", radarTraces, {
  polar: { radialaxis: { range: [0,1], visible: true } },
  legend: { orientation: "h" }
});

Plotly.newPlot("bar-cat", barTraces, {
  barmode: "group",
  yaxis: { range: [0,1] }
});

});
</script>

</body>
</html>
