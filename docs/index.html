<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>TMMLU+ Leaderboard</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

</head>
<body class="container py-4">

<h2 class="mb-4">ðŸ“Š TMMLU+ Leaderboard</h2>

<table class="table table-bordered">
<thead class="table-dark">
<tr>
  <th>Rank</th>
  <th>Model</th>
  <th>Overall</th>
  <th>TMMLU+</th>
</tr>
</thead>
<tbody id="rows"></tbody>
</table>

<h4>ðŸ§­ TMMLU+ Category Radar</h4>
<div id="radar" style="height:450px"></div>

<h4 class="mt-4">ðŸ“Š TMMLU+ Category Bar</h4>
<div id="bar" style="height:450px"></div>

<script>
fetch("leaderboard.json")
.then(r => r.json())
.then(data => {

console.log("LOADED JSON:", data);

const tbody = document.getElementById("rows");

data.leaderboard.forEach((m,i)=>{
  tbody.innerHTML += `
    <tr>
      <td>${i+1}</td>
      <td>${m.model}</td>
      <td>${m.overall}</td>
      <td>${m.tmmlu_overall}</td>
    </tr>`;
});

const radarTraces = [];
const barTraces = [];

data.leaderboard.forEach(m => {
  const cat = data.details[m.model].tmmlu_categories;
  console.log("CATEGORIES:", m.model, cat);

  radarTraces.push({
    type: "scatterpolar",
    r: Object.values(cat),
    theta: Object.keys(cat),
    fill: "toself",
    name: m.model
  });

  barTraces.push({
    type: "bar",
    x: Object.keys(cat),
    y: Object.values(cat),
    name: m.model
  });
});

Plotly.newPlot("radar", radarTraces, {
  polar: { radialaxis: { range:[0,1] } }
});

Plotly.newPlot("bar", barTraces, {
  barmode: "group",
  yaxis: { range:[0,1] }
});

});
</script>

</body>
</html>
