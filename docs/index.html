<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>TMMLU+ Leaderboard</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

<style>
body { padding:40px; background:#f8f9fa; }
.card { border-radius:12px; margin-bottom:12px; }
.card-header { background:#0d6efd; color:white; cursor:pointer; }
.card-header:hover { background:#0b5ed7; }
</style>
</head>

<body>

<h2 class="text-center mb-4">ðŸ“Š TMMLU+ Leaderboard</h2>

<div id="table"></div>

<hr>

<h4>ðŸ§­ TMMLU+ Discipline Comparison (Radar)</h4>
<div id="radar-discipline"></div>

<h4 class="mt-5">ðŸ§­ TMMLU+ Category Comparison (Radar)</h4>
<div id="radar-category"></div>

<h4 class="mt-5">ðŸ“Š TMMLU+ Category Comparison (Bar)</h4>
<div id="bar-category"></div>

<script>
fetch("leaderboard.json").then(r=>r.json()).then(data=>{

const table = document.getElementById("table");
let html = `<table class="table table-striped table-bordered">
<thead class="table-dark">
<tr><th>Rank</th><th>Model</th><th>Overall</th><th>TMMLU+</th></tr>
</thead><tbody>`;

data.leaderboard.forEach((m,i)=>{
  html += `<tr><td>${i+1}</td><td>${m.model}</td>
           <td>${m.overall}</td><td>${m.tmmlu_overall}</td></tr>`;
});
html += "</tbody></table>";
table.innerHTML = html;

// Radar â€“ Discipline
const discTraces = [];
const catTraces = [];
const barTraces = [];

data.leaderboard.forEach(m=>{
  const d = data.details[m.model];

  discTraces.push({
    type:"scatterpolar",
    r:Object.values(d.tmmlu_disciplines),
    theta:Object.keys(d.tmmlu_disciplines),
    fill:"toself",
    name:m.model
  });

  catTraces.push({
    type:"scatterpolar",
    r:Object.values(d.tmmlu_categories),
    theta:Object.keys(d.tmmlu_categories),
    fill:"toself",
    name:m.model
  });

  barTraces.push({
    type:"bar",
    x:Object.keys(d.tmmlu_categories),
    y:Object.values(d.tmmlu_categories),
    name:m.model
  });
});

Plotly.newPlot("radar-discipline", discTraces, {
  polar:{radialaxis:{range:[0,1]}},
  legend:{orientation:"h"}
});

Plotly.newPlot("radar-category", catTraces, {
  polar:{radialaxis:{range:[0,1]}},
  legend:{orientation:"h"}
});

Plotly.newPlot("bar-category", barTraces, {
  barmode:"group",
  yaxis:{range:[0,1]}
});

});
</script>

</body>
</html>
